<drawer
  [guestName]="buildGuestNameDisplay()"
  [conversations]="conversations"
  [createConversation]="createConversationFunction"
>
  <div class="main-container">
    <div class="spinner-container" *ngIf="showSpinner">
      <spinner></spinner>
    </div>
    <div class="main-container">
      <div class="spinner-container" *ngIf="showSpinner">
        <spinner></spinner>
      </div>
      <div class="messages-container" #messagesContainer>
        <div class="card-container" *ngFor="let chatMessage of chatMessages">
          <mat-card
            class="message-container"
            [ngClass]="{
              'user-message': chatMessage.author === 'user',
              'chat-message': chatMessage.author === 'chat-gpt'
            }"
          >
            <mat-card-content>
              <span
                ><b>{{ chatMessage.message }}</b></span
              >
            </mat-card-content>
          </mat-card>
          <span>{{ chatMessage.hour }}</span>
        </div>
      </div>
      <div class="input-container">
        <div class="input-and-buttons-container">
          <input [formControl]="messageInput" />
          <div class="icons-container">
            <button type="submit" (click)="sendMessage()">
              <img class="icon" src="../../assets/send.svg" alt="send-icon" />
            </button>
            <button
              *ngIf="!isFirefox"
              type="submit"
              (click)="startRecognition()"
            >
              <img class="icon" src="../../assets/record.svg" alt="send-icon" />
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</drawer>
